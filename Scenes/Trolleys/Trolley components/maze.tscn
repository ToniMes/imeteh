[gd_scene load_steps=12 format=3 uid="uid://b44m6vihrtt6u"]

[ext_resource type="Script" uid="uid://dhnqkpwk31240" path="res://Scripts/Trolleys/Trolley components/maze.gd" id="1_h06ds"]

[sub_resource type="BoxMesh" id="BoxMesh_h3fbh"]
size = Vector3(0.4, 0.01, 0.4)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_aijfv"]
data = PackedVector3Array(-0.2, 0.005, 0.2, 0.2, 0.005, 0.2, -0.2, -0.005, 0.2, 0.2, 0.005, 0.2, 0.2, -0.005, 0.2, -0.2, -0.005, 0.2, 0.2, 0.005, -0.2, -0.2, 0.005, -0.2, 0.2, -0.005, -0.2, -0.2, 0.005, -0.2, -0.2, -0.005, -0.2, 0.2, -0.005, -0.2, 0.2, 0.005, 0.2, 0.2, 0.005, -0.2, 0.2, -0.005, 0.2, 0.2, 0.005, -0.2, 0.2, -0.005, -0.2, 0.2, -0.005, 0.2, -0.2, 0.005, -0.2, -0.2, 0.005, 0.2, -0.2, -0.005, -0.2, -0.2, 0.005, 0.2, -0.2, -0.005, 0.2, -0.2, -0.005, -0.2, 0.2, 0.005, 0.2, -0.2, 0.005, 0.2, 0.2, 0.005, -0.2, -0.2, 0.005, 0.2, -0.2, 0.005, -0.2, 0.2, 0.005, -0.2, -0.2, -0.005, 0.2, 0.2, -0.005, 0.2, -0.2, -0.005, -0.2, 0.2, -0.005, 0.2, 0.2, -0.005, -0.2, -0.2, -0.005, -0.2)

[sub_resource type="BoxMesh" id="BoxMesh_aijfv"]
size = Vector3(0.41, 0.1, 0.01)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_h06ds"]
data = PackedVector3Array(-0.205, 0.05, 0.005, 0.205, 0.05, 0.005, -0.205, -0.05, 0.005, 0.205, 0.05, 0.005, 0.205, -0.05, 0.005, -0.205, -0.05, 0.005, 0.205, 0.05, -0.005, -0.205, 0.05, -0.005, 0.205, -0.05, -0.005, -0.205, 0.05, -0.005, -0.205, -0.05, -0.005, 0.205, -0.05, -0.005, 0.205, 0.05, 0.005, 0.205, 0.05, -0.005, 0.205, -0.05, 0.005, 0.205, 0.05, -0.005, 0.205, -0.05, -0.005, 0.205, -0.05, 0.005, -0.205, 0.05, -0.005, -0.205, 0.05, 0.005, -0.205, -0.05, -0.005, -0.205, 0.05, 0.005, -0.205, -0.05, 0.005, -0.205, -0.05, -0.005, 0.205, 0.05, 0.005, -0.205, 0.05, 0.005, 0.205, 0.05, -0.005, -0.205, 0.05, 0.005, -0.205, 0.05, -0.005, 0.205, 0.05, -0.005, -0.205, -0.05, 0.005, 0.205, -0.05, 0.005, -0.205, -0.05, -0.005, 0.205, -0.05, 0.005, 0.205, -0.05, -0.005, -0.205, -0.05, -0.005)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_bipei"]
data = PackedVector3Array(-0.205, 0.05, 0.005, 0.205, 0.05, 0.005, -0.205, -0.05, 0.005, 0.205, 0.05, 0.005, 0.205, -0.05, 0.005, -0.205, -0.05, 0.005, 0.205, 0.05, -0.005, -0.205, 0.05, -0.005, 0.205, -0.05, -0.005, -0.205, 0.05, -0.005, -0.205, -0.05, -0.005, 0.205, -0.05, -0.005, 0.205, 0.05, 0.005, 0.205, 0.05, -0.005, 0.205, -0.05, 0.005, 0.205, 0.05, -0.005, 0.205, -0.05, -0.005, 0.205, -0.05, 0.005, -0.205, 0.05, -0.005, -0.205, 0.05, 0.005, -0.205, -0.05, -0.005, -0.205, 0.05, 0.005, -0.205, -0.05, 0.005, -0.205, -0.05, -0.005, 0.205, 0.05, 0.005, -0.205, 0.05, 0.005, 0.205, 0.05, -0.005, -0.205, 0.05, 0.005, -0.205, 0.05, -0.005, 0.205, 0.05, -0.005, -0.205, -0.05, 0.005, 0.205, -0.05, 0.005, -0.205, -0.05, -0.005, 0.205, -0.05, 0.005, 0.205, -0.05, -0.005, -0.205, -0.05, -0.005)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_xk16s"]
data = PackedVector3Array(-0.205, 0.05, 0.005, 0.205, 0.05, 0.005, -0.205, -0.05, 0.005, 0.205, 0.05, 0.005, 0.205, -0.05, 0.005, -0.205, -0.05, 0.005, 0.205, 0.05, -0.005, -0.205, 0.05, -0.005, 0.205, -0.05, -0.005, -0.205, 0.05, -0.005, -0.205, -0.05, -0.005, 0.205, -0.05, -0.005, 0.205, 0.05, 0.005, 0.205, 0.05, -0.005, 0.205, -0.05, 0.005, 0.205, 0.05, -0.005, 0.205, -0.05, -0.005, 0.205, -0.05, 0.005, -0.205, 0.05, -0.005, -0.205, 0.05, 0.005, -0.205, -0.05, -0.005, -0.205, 0.05, 0.005, -0.205, -0.05, 0.005, -0.205, -0.05, -0.005, 0.205, 0.05, 0.005, -0.205, 0.05, 0.005, 0.205, 0.05, -0.005, -0.205, 0.05, 0.005, -0.205, 0.05, -0.005, 0.205, 0.05, -0.005, -0.205, -0.05, 0.005, 0.205, -0.05, 0.005, -0.205, -0.05, -0.005, 0.205, -0.05, 0.005, 0.205, -0.05, -0.005, -0.205, -0.05, -0.005)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_xrau7"]
data = PackedVector3Array(-0.205, 0.05, 0.005, 0.205, 0.05, 0.005, -0.205, -0.05, 0.005, 0.205, 0.05, 0.005, 0.205, -0.05, 0.005, -0.205, -0.05, 0.005, 0.205, 0.05, -0.005, -0.205, 0.05, -0.005, 0.205, -0.05, -0.005, -0.205, 0.05, -0.005, -0.205, -0.05, -0.005, 0.205, -0.05, -0.005, 0.205, 0.05, 0.005, 0.205, 0.05, -0.005, 0.205, -0.05, 0.005, 0.205, 0.05, -0.005, 0.205, -0.05, -0.005, 0.205, -0.05, 0.005, -0.205, 0.05, -0.005, -0.205, 0.05, 0.005, -0.205, -0.05, -0.005, -0.205, 0.05, 0.005, -0.205, -0.05, 0.005, -0.205, -0.05, -0.005, 0.205, 0.05, 0.005, -0.205, 0.05, 0.005, 0.205, 0.05, -0.005, -0.205, 0.05, 0.005, -0.205, 0.05, -0.005, 0.205, 0.05, -0.005, -0.205, -0.05, 0.005, 0.205, -0.05, 0.005, -0.205, -0.05, -0.005, 0.205, -0.05, 0.005, 0.205, -0.05, -0.005, -0.205, -0.05, -0.005)

[sub_resource type="SphereMesh" id="SphereMesh_245un"]
radius = 0.02
height = 0.04

[sub_resource type="SphereShape3D" id="SphereShape3D_aijfv"]
radius = 0.02

[sub_resource type="BoxShape3D" id="BoxShape3D_aijfv"]
size = Vector3(0.32, 0.02, 0.32)

[node name="Maze" type="Node3D"]
script = ExtResource("1_h06ds")

[node name="Box" type="StaticBody3D" parent="."]
collision_layer = 8
collision_mask = 196623

[node name="BottomMesh" type="MeshInstance3D" parent="Box"]
mesh = SubResource("BoxMesh_h3fbh")
skeleton = NodePath("../..")

[node name="BottomCollision" type="CollisionShape3D" parent="Box"]
visible = false
shape = SubResource("ConcavePolygonShape3D_aijfv")

[node name="MeshSide1" type="MeshInstance3D" parent="Box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.005, 0.045, 0.205)
mesh = SubResource("BoxMesh_aijfv")

[node name="CollisionSide1" type="CollisionShape3D" parent="Box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.005, 0.045, 0.205)
visible = false
shape = SubResource("ConcavePolygonShape3D_h06ds")

[node name="MeshSide2" type="MeshInstance3D" parent="Box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.005, 0.045, -0.205)
mesh = SubResource("BoxMesh_aijfv")

[node name="CollisionSide2" type="CollisionShape3D" parent="Box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.005, 0.045, -0.205)
visible = false
shape = SubResource("ConcavePolygonShape3D_bipei")

[node name="MeshSide3" type="MeshInstance3D" parent="Box"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.205, 0.045, -0.005)
mesh = SubResource("BoxMesh_aijfv")

[node name="CollisionSide3" type="CollisionShape3D" parent="Box"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.205, 0.045, -0.005)
visible = false
shape = SubResource("ConcavePolygonShape3D_xk16s")

[node name="MeshSide4" type="MeshInstance3D" parent="Box"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -0.205, 0.045, 0.005)
mesh = SubResource("BoxMesh_aijfv")

[node name="CollisionSide4" type="CollisionShape3D" parent="Box"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -0.205, 0.045, 0.005)
visible = false
shape = SubResource("ConcavePolygonShape3D_xrau7")

[node name="CollisionTop" type="CollisionShape3D" parent="Box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)
visible = false
shape = SubResource("ConcavePolygonShape3D_aijfv")

[node name="Ball" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.354012, 0)
collision_layer = 8
collision_mask = 15

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ball"]
layers = 8
mesh = SubResource("SphereMesh_245un")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ball"]
shape = SubResource("SphereShape3D_aijfv")

[node name="InnerArea" type="Area3D" parent="."]
collision_layer = 8
collision_mask = 15

[node name="CollisionShape3D" type="CollisionShape3D" parent="InnerArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.05, 0)
shape = SubResource("BoxShape3D_aijfv")

[connection signal="body_exited" from="InnerArea" to="." method="_on_inner_area_body_exited"]
